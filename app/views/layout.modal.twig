{% set modalClass = block('modalClass') %}

<div class="modal-content">

    {% if app.getFlashBag.peek('success') %}

        <div class="modal-header">
            <div class="alert alert-success alert-dismissible">
                {% for message in app.flashbag.get('success') %}
                    {{ message }}<br>
                {% endfor %}
            </div>
        </div>

    {% else %}

        {% block formStart %}{% endblock %}
        <div class="modal-header">

            {% if app.getFlashBag.peek('error') %}
                <div class="alert alert-danger alert-dismissible">
                    {% for message in app.flashbag.get('error') %}
                        {{ message }}<br>
                    {% endfor %}
                </div>
            {% endif %}

            <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">Ã—</span></button>
            <h4 class="modal-title">{% block title %}{% endblock %}</h4>
        </div>
        <div class="modal-body {{ modalClass }}">
            {% block content %}{% endblock %}
        </div>
        <div class="modal-footer {{ modalClass }}">
            <div class="spinner hidden" id="modal-footer-spinner">
                <div class="rect1"></div>
                <div class="rect2"></div>
                <div class="rect3"></div>
                <div class="rect4"></div>
                <div class="rect5"></div>
            </div>
            {% block footer %}{% endblock %}
        </div>
        {% block formEnd %}{% endblock %}

    {% endif %}

</div>
